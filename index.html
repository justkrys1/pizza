<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Exotix Pizza</title>
    <link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css"/>
    <plugin name="Contacts" value="org.apache.cordova.ContactManager" />
</head>


<body>

<!-- Start of first page: #one -->
<div data-role="page" id="home">

    <div data-role="header" data-theme="a">
        <h1>Exotix Pizza</h1>
    </div>
    <!-- /header -->

    <div data-role="content" data-theme="b">
        <section><p>
            <img src="images/pizza2.jpg" width="120" height="80" alt="">
            <img src="images/pizza3.jpg" width="120" height="80" alt="">
            <img src="images/flatbread.jpg" width="120" height="80" alt="">
            <img src="images/drinks.jpg" width="120" height="80" alt="">
        </section>

        <h3>Main Menu:</h3>
        <!-- <p><a href="#callus" data-role="button">Call Us</a></p>-->
        <p><a href="tel:+15095555555" data-role="button">Call us free!</a></p>

        <p><a href="#menu" data-role="button">Menu</a></p>

        <p><a href="#order" data-role="button">Order</a></p>
        <p><a href="#contacts" data-role="button">Contacts</a></p>
        <p><a href="#map" data-role="button">Map</a></p>
        <p><a href="#compass" data-role="button">Compass</a></p>
        <p><a href="#aboutus" data-role="button">About Us</a></p>
    </div>
    <!-- /content -->

    <div data-role="footer" data-theme="a">
        <p>&copy; exotix pizza | Copyright: 2012 | Designer: Krys Ragan</p>

    </div>
    <!-- /footer -->
</div>
<!-- /page one -->
<!-- Start of second page: Map -->
<div data-role="page" id="map" data-theme="b">

    <div data-role="header">
        <h1>Map</h1>
    </div>
    <!-- /header -->

    <div data-role="content" data-theme="b">
        <script>
            navigator.geolocation.getCurrentPosition(function (pos) {
                var lat = pos.coords.latitude;
                var lng = pos.coords.longitude;
                $("#lat").text(lat);
                $("#lng").text(lng);
                var url = '<a href="http://maps.google.com//maps?daddr=North+Greene+Street,+Spokane,+WA+99217&saddr' + lat + ',' + lng + '"</a>';
                $("#url").html(url);
                $("#realmap").html(map);
                var map1 = '<iframe width="325" height="325" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?f=d&amp;source=s_d&amp;saddr=' + lat + ',' + lng + '&amp;daddr=Spokane+Community+College,+1810+North+Greene+Street,+Spokane,+WA+99217&amp;hl=en&amp;geocode=FQU31wIdzXEA-SnXOca4ixieVDE9Wto5SEaZ-A%3BFS9s1wIdmDYB-SlnwP9oSh-eVDF2zBtwW8b6yw&amp;aq=0&amp;oq=123+n+division&amp;sll=47.674953,-117.361386&amp;sspn=0.008293,0.011759&amp;mra=ls&amp;ie=UTF8&amp;t=m&amp;ll=47.665561,-117.385225&amp;spn=0.018786,0.027809&amp;z=14&amp;output=embed"></iframe><br /><small>'
                var map = '<iframe width="325" height="325" frameborder="0" scrolling="no" marginheight="0" marginwidth="0" src="https://maps.google.com/maps?f=d&amp;source=s_d&amp;saddr=' + lat + ',' + lng + '&amp;daddr=Spokane+Community+College,+N+Greene+St,+Spokane,+WA&amp;hl=en&amp;geocode=FQU31wIdzXEA-SnXOca4ixieVDE9Wto5SEaZ-A%3BFS9s1wIdmDYB-SF2zBtwW8b6yylnwP9oSh-eVDF2zBtwW8b6yw&amp;aq=0&amp;oq=123&amp;sll=47.674956,-117.359158&amp;sspn=0.008293,0.011759&amp;mra=ls&amp;ie=UTF8&amp;t=m&amp;ll=47.665561,-117.385225&amp;spn=0.018786,0.027809&amp;z=14" style="color:#0000FF;text-align:left">View Larger Map</a></small>'
            })
        </script>
        <div id="realmap">

        </div>

        <iframe width="425" height="350" frameborder="0" scrolling="no" marginheight="0" marginwidth="0"
                src="https://maps.google.com/maps?f=q&amp;source=s_q&amp;hl=en&amp;geocode=&amp;q=Spokane+Community+College,+North+Greene+Street,+Spokane,+WA&amp;aq=&amp;sll=47.674956,-117.359158&amp;sspn=0.008293,0.016222&amp;ie=UTF8&amp;hq=Spokane+Community+College,+North+Greene+Street,+Spokane,+WA&amp;t=m&amp;ll=47.674956,-117.359158&amp;spn=0.006295,0.0091&amp;output=embed"></iframe>
        <br/>
        <small><a
                href="https://maps.google.com/maps?f=q&amp;source=embed&amp;hl=en&amp;geocode=&amp;q=Spokane+Community+College,+North+Greene+Street,+Spokane,+WA&amp;aq=&amp;sll=47.674956,-117.359158&amp;sspn=0.008293,0.016222&amp;ie=UTF8&amp;hq=Spokane+Community+College,+North+Greene+Street,+Spokane,+WA&amp;t=m&amp;ll=47.674956,-117.359158&amp;spn=0.006295,0.0091"
                style="color:#0000FF;text-align:left">View Larger Map</a></small>


    </div>
    <!-- /content -->
    <p><a href="#home" data-direction="reverse" data-role="button" data-theme="b">Main Menu</a></p>

    <div data-role="footer" data-position="fixed">

        <p>&copy; exotix pizza | Copyright: 2012 | Designer: Krys Ragan</p>

    </div>
    <!-- /footer -->
</div>

<!-- /page Map -->
<!-- Start of second page: Call Us -->
<div data-role="page" id="contacts" data-theme="b">

    <div data-role="header">
        <h1>Contacts</h1>
    </div>
    <script>

        // Wait for Cordova to load
        //
        document.addEventListener("deviceready", onDeviceReady, false);

        // Cordova is ready
        //
        function onDeviceReady() {
            // create a new contact
            var contact = navigator.contacts.create();

            // store contact phone numbers in ContactField[]
            var phoneNumbers = [];
            phoneNumbers[0] = new ContactField('work', '212-555-1234', false);
            phoneNumbers[1] = new ContactField('mobile', '917-555-5432', true); // preferred number
            phoneNumbers[2] = new ContactField('home', '203-555-7890', false);
            contact.phoneNumbers = phoneNumbers;

            // save the contact
            contact.save();

            // search contacts, returning display name and phone numbers
            var options = new ContactFindOptions();
            options.filter="";
            filter = ["displayName","phoneNumbers"];
            navigator.contacts.find(filter, onSuccess, onError, options);
        }

        // onSuccess: Get a snapshot of the current contacts
        //
        function onSuccess(contacts) {
            for (var i=0; i<contacts.length; i++) {
                // display phone numbers
                for (var j=0; j<contacts[i].phoneNumbers.length; j++) {
                    alert("Type: " + contacts[i].phoneNumbers[j].type + "\n" +
                            "Value: "  + contacts[i].phoneNumbers[j].value + "\n" +
                            "Preferred: "  + contacts[i].phoneNumbers[j].pref);
                }
            }
        };

        // onError: Failed to get the contacts
        //
        function onError(contactError) {
            alert('onError!');
        }

    </script>

    <p>Find Contacts</p>

    <!-- /content -->
    <!-- /footer -->
    <div data-role="footer">

        <p>&copy; exotix pizza | Copyright: 2012 | Designer: Krys Ragan</p>

    </div>
    <!-- /footer -->
</div>
<!-- /page Call Us -->


<!-- Start of second page: Call Us -->
<div data-role="page" id="callus" data-theme="b">

    <div data-role="header">
        <h1>Call Us</h1>
    </div>
    <!-- /header -->

    <!-- /content -->
    <!-- /footer -->
    <div data-role="footer">

        <p>&copy; exotix pizza | Copyright: 2012 | Designer: Krys Ragan</p>

    </div>
    <!-- /footer -->
</div>
<!-- /page Call Us -->

<!-- Start of second page: Menu -->
<div data-role="page" id="menu" data-theme="b">
    <div data-role="header">
        <h1>Menu</h1>
    </div>
    <div data-role="content" data-theme="b">


            <h1>Crusts: $10.00</h1>

            <div data-product="1">
                <span data-name="thin" data-price="10">Thin Crust  </span>
            </div>

            <div data-product="2">
                <span data-name="thick" data-price="10">Thick Crust</span>
            </div>
            <div data-product="3">
                <span data-name="flatbread" data-price="10">Flatbread</span>
            </div>
            <h1>Toppings: $3.00</h1>
            <div data-product="4" >
                <span data-name="lamb" data-price="3">Lamb  </span>
            </div>

            <div data-product="5" >
                <span data-name="duck" data-price="3">Duck</span>

            </div>
            <div data-product="6">
                <span data-name="pork" data-price="3">Flatbread</span>
            </div>
            <h1>Drinks: $2.00</h1>
            <div data-product="7">
                <span data-name="pepsi" data-price="2">Pepsi  </span>

            </div>

            <div data-product="8" data-price="2">
                <span data-name="coke">Coke</span>

            </div>
            <div data-product="9">
                <span data-name="7up" data-price="2">7-Up</span>
            </div>

<div id="displaycart">

</div>

        <p><a href="#home" data-direction="reverse" data-role="button" data-theme="b">Main Menu</a></p>

    </div>
    <!-- /content -->
    <div data-role="footer">

        <p>&copy; exotix pizza | Copyright: 2012 | Designer: Krys Ragan</p>

    </div>
    <!-- /footer -->
</div>
<!-- /page Menu -->

<!-- Start of second page: Order -->
<div data-role="page" id="order" data-theme="b">
    <div data-role="header">
        <h1>Order</h1>
    </div>
    <!-- /header -->
    <div data-role="content" data-theme="b">

        <h1>Your Order:</h1>
        <h4>Crust: $crust</h4>
        <h4>Toppings: $ingredients</h4>
        <h4>Drinks: $drinks</h4>

        <p><a href="email.php" rel="external" data-role="button" data-theme="b">Add to Favorites</a></p>

        <p><a href="mailto:justkrys1@yahoo.com" rel="external" data-role="button" data-theme="b">Add to Order</a></p>

        <h1>Your Favorite:</h1>
        <h4>Crust: $crust</h4>
        <h4>Toppings: $ingredients</h4>
        <h4>Drinks: $drinks</h4>

        <p><a href="email.php" rel="external" data-role="button" data-theme="b">Order Favorite</a></p>

        <p><a href="email.php" rel="external" data-role="button" data-theme="b">Submit Order</a></p>

        <p><a href="#home" data-direction="reverse" data-role="button" data-theme="b">Main Menu</a></p>

    </div>
    <!-- /content -->

    <div data-role="footer">

        <p>&copy; exotix pizza | Copyright: 2012 | Designer: Krys Ragan</p>

    </div>
    <!-- /footer -->
</div>
<!-- /page Order -->

<!-- Start of second page: About Us -->
<div data-role="page" id="compass" data-theme="b">

    <div data-role="header">
        <h1>Compass</h1>
    </div>
    <!-- /header -->

    <div data-role="content" data-theme="b">
        <section>
            <script>
            // The watch id references the current `watchHeading`
            var watchID = null;

            // Wait for device API libraries to load
            //
            document.addEventListener("deviceready", onDeviceReady, false);

            // device APIs are available
            //
            function onDeviceReady() {
            startWatch();
            }

            // Start watching the compass
            //
            function startWatch() {

            // Update compass every 3 seconds
            var options = { frequency: 3000 };

            watchID = navigator.compass.watchHeading(onSuccess, onError, options);
            }

            // Stop watching the compass
            //
            function stopWatch() {
            if (watchID) {
            navigator.compass.clearWatch(watchID);
            watchID = null;
            }
            }

            // onSuccess: Get the current heading
            //
            function onSuccess(heading) {
            var element = document.getElementById('heading');
            element.innerHTML = 'Heading: ' + heading.magneticHeading;
            }

            // onError: Failed to get the heading
            //
            function onError(compassError) {
            alert('Compass error: ' + compassError.code);
            }

            </script>
            <div id="heading">Waiting for heading...</div>
            <button onclick="startWatch();">Start Watching</button>
            <button onclick="stopWatch();">Stop Watching</button>
        </section>

        <p><a href="#home" data-direction="reverse" data-role="button" data-theme="b">Main Menu</a></p>
    </div>
    <!-- /content -->

    <div data-role="footer" data-position="fixed">

        <p>&copy; exotix pizza | Copyright: 2012 | Designer: Krys Ragan</p>

    </div>
    <!-- /footer -->
</div>
<!-- /page About Us -->
<!-- Start of second page: About Us -->
<div data-role="page" id="aboutus" data-theme="b">

    <div data-role="header">
        <h1>About Us</h1>
    </div>
    <!-- /header -->

    <div data-role="content" data-theme="b">
        <aside><img src="images/cafe.jpg" width="130" height="80" alt=""><img src="images/market.jpg" width="130"
                                                                              height="80" alt=""></aside>
        <p>Our goal since we opened in 2008 has been to provide the freshest, most unique flavor combinations on the
            pizza scene. Our menu lists the staples of the concept but we're always looking for new and exciting
            ingredients to try out, so please ask about current specialty items.
            Staffing just a few highly-skilled people has allowed us to train them with the knowledge of our
            ingredients, but has also let us keep down costs, assuring that everyone can afford a taste of the
            exotix!</p>

        <p><a href="#home" data-direction="reverse" data-role="button" data-theme="b">Main Menu</a></p>
    </div>
    <!-- /content -->

    <div data-role="footer" data-position="fixed">

        <p>&copy; exotix pizza | Copyright: 2012 | Designer: Krys Ragan</p>

    </div>
    <!-- /footer -->
</div>
<!-- /page About Us -->

<script type="text/javascript" charset="utf-8" src="cordova.js"></script>
<script type="text/javascript" charset="utf-8"></script>
<script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
<script src="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.js"></script>
<script src="http://code.jquery.com/jquery.js"></script>
<script>
    var cart = [];

    function displayOrder(){
        var displaycart = $("#displaycart");
        displaycart.html("");
        for( var item in cart){
          var qty = cart[item].qty;
          //var price = cart[item].price;
          //var subtotal = qty * price;
            displaycart.append('<p>' + qty + ":" + cart[item].name + '</p>')
          //displaycart.append('<p>' + qty + ":" + cart[item].name + price.toFixed(2) + subtotal.toFixed + '</p>')
        }
    }
    $(document).ready(function () {

        $('div[data-product]').each(function () {
            $(this).append('<button class="cart">Add to Order</button>')
        })
        $('.cart').on("click", function (event) {
            var id = $(this).parent().parent().data("product");
            console.log(id);
            if(cart[id]){
                cart[id].qty += 1;
            }else{
               cart[id] = new Object();
                cart[id].qty = 1;
                cart[id].name = $(this).parent().siblings("span").data("name");
                //cart[id].price = $(this).parent().siblings("span").data("price");
                console.log(cart);
            }
            displayOrder();
        })
    })


</script>


</body>
</html>